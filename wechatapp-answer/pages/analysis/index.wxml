<!--pages/analysis/index.wxml-->
<view class='page'>
  <i-spin fix size="large" wx:if="{{loading}}"></i-spin>
  <view class="header-model2 css-shadow-bottom">
    <i-row>
      <i-col span="15" i-class="col-class-down">
        <text class="model2-timepiece">题目：{{result.questionMenu}}</text>
      </i-col>
    </i-row>
  </view>
  <!--题目-->
  <view style='padding-bottom:44px;'>
    <view class="question-list">
      <view class="question-list-title">
        <i-tag class="i-tags" name="单选" type="border" color="blue" wx:if="{{questionInfo.type==1}}">
          单选
        </i-tag>
        <i-tag class="i-tags" name="多选" type="border" color="blue" wx:if="{{questionInfo.type==2}}">
          多选
        </i-tag>
        <text class='question-title'>{{questionInfo.title}}</text>
      </view>
    </view>
    <image wx:if="{{questionInfo.picUrl}}" style="width: 100%; height: 200px; background-color: #fff;" mode="aspectFit" src="{{questionInfo.picUrl}}"></image>
    <!--答案选择 - 单选-->
    <i-panel wx:if="{{questionInfo.type==1}}">
      <i-radio-group wx:for="{{questionInfo.choseList}}" wx:key="item.id" current="{{current}}">
        <i-radio disabled="{{disabled}}" position="left" value="{{s[index]}}{{item.item}}">
        </i-radio>
      </i-radio-group>
    </i-panel>

    <!--答案选择 - 多选-->
    <i-panel wx:if="{{questionInfo.type==2}}">
      <i-checkbox-group current="{{currentD}}" wx:for="{{questionInfo.choseList}}" wx:key="{{item.id}}">
        <i-checkbox disabled="{{disabled}}" wx:key="{{index}}" position="left" wx:key="{{item.id}}" value="{{s[index]}}{{item.item}}">
        </i-checkbox>
      </i-checkbox-group>
    </i-panel>

    <!--帮助-->
    <i-panel>
      <view class='answer'>
        <view class='answerTitle'>正确答案：</view>
        <view class='answerContent'>
          <view wx:for="{{answer}}" wx:key="answer">{{item}}</view>
        </view>
        <view class='answerTitle'>解析：</view>
        <view class='answerContent'>
          {{questionInfo.help}}
        </view>
      </view>
    </i-panel>

    <!--底部栏-->
    <view class='css-shadow tab-bar'>
      <!-- 分页 -->
      <i-page current="{{ index+1 }}" total="total" bind:change="handlePageChange">
        <view slot="prev">
          <i-icon type="return"></i-icon>
          上一题
        </view>
        <view slot="content">
          <i-row>
            <i-col span="23">
              <view>
                <button class="footer-defbtn" bindtap='handleOpen'>
                  <i-icon type="task" size='25' color="#3D971C" class='footer-btn-text' />
                  <view class='footer-btn-text'>
                    <text>{{index+1}}/{{total}}</text>
                  </view>
                </button>
              </view>
            </i-col>
          </i-row>
        </view>
        <view slot="next">
          <view style='height:100%;'>
            下一题
            <i-icon type="enter"></i-icon>
          </view>
        </view>
      </i-page>
    </view>
  </view>
</view>